schema: '2.0'
stages:
  prepare_dataset:
    cmd: python scripts/preparing.py
    deps:
    - path: scripts/preparing.py
      hash: md5
      md5: d511b198c1e2218ef5cedf3c677582fc
      size: 1707
    params:
      params.yaml:
        prepare.samples_per_class: 200
        prepare.source_path: 
          E:\ULTIMATE_PROJECT\wildlife-identification-kamchatka\full_dataset
    outs:
    - path: training_dataset
      hash: md5
      md5: e57a59cdb015dd94f3e956a30ac713db.dir
      size: 106396033
      nfiles: 880
  train_model:
    cmd: python ml/classifier.py
    deps:
    - path: ml/classifier.py
      hash: md5
      md5: cfe8998064e25ad11362a74e93ece152
      size: 3316
    - path: training_dataset
      hash: md5
      md5: e57a59cdb015dd94f3e956a30ac713db.dir
      size: 106396033
      nfiles: 880
    params:
      params.yaml:
        train.batch_size: 32
        train.epochs: 25
        train.learning_rate: 0.0001
        train.model_name: resnet50
    outs:
    - path: metrics.json
      hash: md5
      md5: 754de45a309f4c34c71ac67f54575e91
      size: 477
    - path: models/monkey_classifier.h5
      hash: md5
      md5: 108434aa5c13e60de147d5c5e7728b9d
      size: 20649840
